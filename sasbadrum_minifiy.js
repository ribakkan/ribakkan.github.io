!function(e,m){"use strict";function t(e){let t=new m.Audio;return t.ontimeupdate=function(){if(!(1>Math.floor(t.duration)))Math.floor(t.currentTime/t.duration*100)>=80&&(t.volume=0,t.remove())},t.src="./mp3/"+e,t.preload="auto",t.currentTime=0,t}m.cl=console.log,m.ell=e.querySelectorAll.bind(e),m.el=e.querySelector.bind(e);let a={z:{key:"Z",img:".kick1",type:"drum",vol:1,name:"bass.mp3"},b:{img:".kick2",type:"drum",vol:1,name:"bass.mp3"},a:{img:".hh-close",type:"crash",vol:.3,name:"hh-close.mp3"},h:{img:".hh-close",type:"crash",vol:.3,name:"hh-close.mp3"},k:{img:".hh-close-right",type:"crash",vol:.3,name:"hh-close.mp3"},n:{img:".hh-close",type:"crash",vol:.2,semiopen:250,name:"hh-open.mp3"},m:{img:".hh-close",type:"crash",vol:.2,semiopen:300,name:"hh-open.mp3"},s:{img:".hh-close",type:"crash",vol:.2,name:"hh-open.mp3"},j:{img:".hh-close",type:"crash",vol:.2,name:"hh-open.mp3"},f:{img:".splash",type:"crash",vol:.3,name:"splash2.mp3"},x:{img:".k-snare",type:"drum",vol:.2,rate:2,triplet:!0,name:"snare4.2.mp3"},v:{img:".k-snare",type:"drum",vol:.2,triplet:!0,name:"snare4.2.mp3"},c:{img:".k-snare",type:"drum",vol:.3,name:"rim2.mp3"},d:{img:".k-snare",type:"drum",vol:.8,name:"snare4.mp3"},g:{img:".k-snare",type:"drum",vol:.8,name:"snare4.mp3"},i:{img:".crash1",type:"crash",vol:.3,name:"crash1.mp3"},o:{img:".crash2",type:"crash",vol:.3,name:"crash2.mp3"},p:{img:".crash3",type:"crash",vol:.3,rate:1,name:"ride.mp3"},q:{img:".crash3",type:"crash",vol:.3,rate:.5,name:"cymbal-ride-fienup2.mp3"},l:{img:".crash3",type:"crash",vol:.3,name:"crispride.mp3"},w:{img:".tom1",type:"drum",vol:1,name:"tom1.mp3"},t:{img:".tom1",type:"drum",vol:1,name:"tom1.mp3"},e:{img:".tom2",type:"drum",vol:1,name:"tom2.mp3"},y:{img:".tom2",type:"drum",vol:1,rate:1,name:"tom2.mp3"},r:{img:".tom3",type:"drum",vol:1,rate:1,name:"tom3.mp3"},u:{img:".tom3",type:"drum",vol:1,rate:1,name:"tom3.mp3"}};function r(e){(e=el(e)).style="-webkit-transform:scale(0.96);transform:scale(0.96);box-shadow:0px 2px 9px #1C1C1C;border:1mm ridge rgb(0 200 255 / .4);",setTimeout(()=>e.style="-webkit-transform:scale(1);transform:scale(1);box-shadow:none;",50)}async function o(e){if(e.repeat)return;let m=a[e.key];if(void 0===m||!0==e.altKey)return;let o=t(m.name);o.volume=m.vol,o.playbackRate=m.rate||1,m.semiopen&&setTimeout(()=>o.volume=0,m.semiopen),m.triplet&&setTimeout(()=>{o.currentTime=0,o.play()},70),await o.play().then(()=>r(m.img))}function n(){document.querySelector(".oncss").href=window.innerHeight>750?"./css/style_resize.css":"./css/style.css"}m.addEventListener("keydown",o),n(),document.body.onresize=n,ell("#drum-ring").forEach(e=>{e.addEventListener("click",async function(e){e.stopPropagation();let m;Object.entries(a).forEach(e=>{let t=a[e[0]];el(t.img)==this&&(m=t)});(await t(m.name)).play(),r(m.img)})}),el(".mp3-file").onclick=function(){this.lastElementChild.click(),this.lastElementChild.addEventListener("change",function(){let e=this.files[0],m=new FileReader;el(".mp-title").textContent=e.name.replace(".mp3",""),m.onload=function(e){let m=el(".mp-audio");m.src=e.target.result,m.volume=.5,m.load(),el(".mp3-file").value=""},m.readAsDataURL(e)})}}(document,"undefined"!=typeof window?window:this);